"use strict";(self.webpackChunkcoordinate=self.webpackChunkcoordinate||[]).push([[4088],{85504:(e,t,n)=>{n.d(t,{Al:()=>c,NZ:()=>r,Vb:()=>i,af:()=>d,rK:()=>h});var l=n(86560);const i="arial-unicode-ms",o="woff2",a=new Map,s=new Set;class u{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(e){const t=h(e),n=a.get(t);if(n)return n.promise;const i=new FontFace(e.family,"url('".concat(l.A.fontsUrl,"/woff2/").concat(t,".").concat(o,"') format('").concat(o,"')"),{style:e.style,weight:e.weight}),c=document.fonts;if(c.has(i)&&"loading"===i.status)return i.loaded;const r=i.load().then((()=>(c.add(i),i)));return a.set(t,new u(i,r)),s.add(i),r}function r(e){return s.has(e)}function d(e){if(!e)return i;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return d(e.family)+(t.length>0?t:"-regular")}},74088:(e,t,n)=>{n.d(t,{previewSymbol2D:()=>S});var l=n(69539),i=n(59784),o=n(50076),a=n(85504),s=n(76931),u=n(87840),c=n(65709),r=n(26291),d=n(27790);const h="picture-fill",m="picture-marker",f="simple-fill",v="simple-line",p="simple-marker",y="text",w="Aa",g=c.CB.size,b=c.CB.maxSize,L=c.CB.maxOutlineSize,k=c.CB.lineWidth,z=225,M=document.createElement("canvas");function x(e,t){const n=M.getContext("2d"),l=[];t&&(t.weight&&l.push(t.weight),t.size&&l.push(t.size+"px"),t.family&&l.push(t.family)),n.font=l.join(" ");const{width:i,actualBoundingBoxLeft:o,actualBoundingBoxRight:a,actualBoundingBoxAscent:s,actualBoundingBoxDescent:u}=n.measureText(e);return{width:Math.ceil(Math.max(i,o+a)),height:Math.ceil(s+u),x:Math.floor(o),y:Math.floor((s-u)/2)}}function C(e){const t=null===e||void 0===e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,s.Lz)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,s.Lz)(t.height):null}}function B(e,t){return e>t?"dark":"light"}async function S(e,t){var n;const{shapeDescriptor:l,size:i,renderOptions:z}=function(e,t){var n,l;const i="number"==typeof(null===t||void 0===t?void 0:t.size)?null===t||void 0===t?void 0:t.size:null,o=null!=i?(0,s.Lz)(i):null,a=null!=(null===t||void 0===t?void 0:t.maxSize)?(0,s.Lz)(t.maxSize):null,r=null!=(null===t||void 0===t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,d=(0,u.eH)(e);let z=(0,u.$4)(e);"dark"!==A(e,245)||(null===t||void 0===t?void 0:t.ignoreWhiteSymbols)||(z={width:.75,...z,color:"#bdc3c7"});const M={shape:null,fill:d,stroke:z,offset:[0,0]};(null===(n=z)||void 0===n?void 0:n.width)&&(z.width=Math.min(z.width,L));const B=(null===(l=z)||void 0===l?void 0:l.width)||0;let S=null!=(null===t||void 0===t?void 0:t.size)&&(null==(null===t||void 0===t?void 0:t.scale)||(null===t||void 0===t?void 0:t.scale)),F=0,j=0,D=!1;switch(e.type){case p:{const n=e.style,{width:l,height:i}=C(t),u=l===i&&null!=l?l:null!=o?o:Math.min((0,s.Lz)(e.size),a||b);switch(F=u,j=u,n){case"circle":M.shape={type:"circle",cx:0,cy:0,r:.5*u},S||(F+=B,j+=B);break;case"cross":M.shape={type:"path",path:[{command:"M",values:[0,.5*j]},{command:"L",values:[F,.5*j]},{command:"M",values:[.5*F,0]},{command:"L",values:[.5*F,j]}]};break;case"diamond":M.shape={type:"path",path:[{command:"M",values:[0,.5*j]},{command:"L",values:[.5*F,0]},{command:"L",values:[F,.5*j]},{command:"L",values:[.5*F,j]},{command:"Z",values:[]}]},S||(F+=B,j+=B);break;case"square":M.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,j]},{command:"L",values:[0,j]},{command:"Z",values:[]}]},S||(F+=B,j+=B),r&&(D=!0);break;case"triangle":M.shape={type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,j]},{command:"L",values:[0,j]},{command:"Z",values:[]}]},S||(F+=B,j+=B),r&&(D=!0);break;case"x":M.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,j]},{command:"M",values:[F,0]},{command:"L",values:[0,j]}]},r&&(D=!0);break;case"path":M.shape={type:"path",path:e.path||""},S||(F+=B,j+=B),r&&(D=!0),S=!0}break}case v:{var E;const{width:e,height:n}=C(t),l=(0,u.O0)(z).reduce(((e,t)=>e+t),0),i=l&&Math.ceil(k/l),a=null!==(E=null!==n&&void 0!==n?n:o)&&void 0!==E?E:B,s=null!==e&&void 0!==e?e:l*i||k;z&&(z.width=a),F=s,j=a,S=!0,M.shape={type:"path",path:[{command:"M",values:[a/2,j/2]},{command:"L",values:[F-a/2,j/2]}]};break}case h:case f:{var Z;const e="object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&!(null===t||void 0===t||null===(Z=t.symbolConfig)||void 0===Z||!Z.isSquareFill),{width:n,height:l}=C(t);F=!e&&n!==l||null==n?null!=o?o:g:n,j=!e&&n!==l||null==l?F:l,S||(F+=B,j+=B),S=!0,M.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,j]},{command:"L",values:[0,j]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:c.nq.fill[0];break}case m:{const n=Math.min((0,s.Lz)(e.width),a||b),l=Math.min((0,s.Lz)(e.height),a||b),{width:i,height:u}=C(t),c=i===u&&null!=i?i:null!=o?o:Math.max(n,l),d=n/l;F=d<=1?Math.ceil(c*d):c,j=d<=1?c:Math.ceil(c/d),M.shape={type:"image",x:-Math.round(F/2),y:-Math.round(j/2),width:F,height:j,src:e.url||""},r&&(D=!0);break}case y:{const n=e,l=(null===t||void 0===t?void 0:t.overrideText)||n.text||w,i=n.font,{width:u,height:c}=C(t),r=null!=c?c:null!=o?o:Math.min((0,s.Lz)(i.size),a||b),{width:d,height:h}=x(l,{weight:i.weight,size:r,family:i.family}),m=/[\uE600-\uE6FF]/.test(l);F=null!==u&&void 0!==u?u:m?r:d,j=m?r:h;let f=.5*(m?r:h);m&&(f+=5),M.shape={type:"text",text:l,x:n.xoffset||0,y:n.yoffset||f,align:"middle",alignBaseline:n.verticalAlignment,decoration:i&&i.decoration,rotated:n.rotated,kerning:n.kerning},M.font=i&&{size:r,style:i.style,decoration:i.decoration,weight:i.weight,family:i.family};break}}return{shapeDescriptor:M,size:[F,j],renderOptions:{node:null===t||void 0===t?void 0:t.node,scale:S,opacity:null===t||void 0===t?void 0:t.opacity,rotation:r,useRotationSize:D,effectView:null===t||void 0===t?void 0:t.effectView,ariaLabel:null===t||void 0===t?void 0:t.ariaLabel}}}(e,t);if(!l.shape)throw new o.A("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,l=e.color;if("pattern"===(null===n||void 0===n?void 0:n.type)&&l&&e.type!==h){const e=await(0,u.rc)(n.src,l.toCss(!0));n.src=e,t.fill=n}}(e,l),await async function(e,t,n,l){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,a.Al)(e.font)}catch{}const{width:i,height:o}=C(l);if(!/[\uE600-\uE6FF]/.test(t.shape.text)){var s,u,c;const{width:a,height:r,x:d,y:h}=x(t.shape.text,{weight:null===(s=t.font)||void 0===s?void 0:s.weight,size:null===(u=t.font)||void 0===u?void 0:u.size,family:null===(c=t.font)||void 0===c?void 0:c.family});n[0]=null!==i&&void 0!==i?i:a,n[1]=null!==o&&void 0!==o?o:r,t.shape.x=d,t.shape.y=h;const m=null!=(null===l||void 0===l?void 0:l.rotation)?l.rotation:"angle"in e?e.angle:null;if(m){const e=m*(Math.PI/180),t=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));n[1]=n[0]*t+n[1]*l}}}(e,l,i,t);const M=[[l]];if("object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&null!==t&&void 0!==t&&null!==(n=t.symbolConfig)&&void 0!==n&&n.applyColorModulation){const e=.6*i[0];M.unshift([{...l,offset:[-e,0],fill:(0,c.QC)(l.fill,-.3)}]),M.push([{...l,offset:[e,0],fill:(0,c.QC)(l.fill,.3)}]),i[0]+=2*e,z.scale=!1}return"text"===e.type&&function(e,t,n,l,i){var o;if(null!=e.haloColor&&null!=e.haloSize){var a;null!==(a=i.masking)&&void 0!==a||(i.masking=n.map((()=>[])));const o=(0,s.Lz)(e.haloSize);l[0]+=o,l[1]+=o,n.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*o,join:"round",cap:"round"}}]),i.masking.unshift([{shape:{type:"rect",x:0,y:0,width:l[0]+2*d.y7,height:l[1]+2*d.y7},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(l[0]+=2*d.y7,l[1]+=2*d.y7,n.unshift([{shape:{type:"rect",x:0,y:0,width:l[0],height:l[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,s.Lz)(e.borderLineSize)}}]),null===(o=i.masking)||void 0===o||o.unshift([]))}(e,l,M,i,z),(0,r.fz)(M,i,z)}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;const n=(0,u.eH)(e),o=(0,u.$4)(e),a=!n||"type"in n?null:new l.A(n),s=null!==o&&void 0!==o&&o.color?new l.A(null===o||void 0===o?void 0:o.color):null,c=a?B((0,i.Ws)(a),t):null,r=s?B((0,i.Ws)(s),t):null;return r?c?c===r?c:t>=z?"light":"dark":r:c}}}]);
//# sourceMappingURL=4088.46576a5d.chunk.js.map