{"version":3,"file":"static/js/4397.7fd8ae94.chunk.js","mappings":"6ZAImgC,MAAMA,EAAEC,WAAAA,CAAYC,EAAEC,GAAGC,KAAKC,SAASH,EAAEE,KAAKE,WAAWH,EAAEC,KAAKG,MAAM,EAAEH,KAAKI,MAAM,KAAKJ,KAAKK,eAAU,CAAM,EAAE,MAAMC,EAAE,IAAIC,EAAAA,EAAE,IAAIT,GAAGA,EAAEU,YAAY,IAAIC,EAAE,eAAcC,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,GAAEC,EAAAA,MAAMhB,WAAAA,CAAYC,GAAGgB,MAAMhB,GAAGE,KAAKe,gBAAgB,IAAIC,IAAIhB,KAAKiB,kBAAkB,IAAID,IAAIhB,KAAKkB,SAAS,IAAIF,IAAIhB,KAAKmB,OAAO,IAAIpB,EAAAA,EAAEC,KAAKoB,wBAAwB,GAAGpB,KAAKqB,QAAQ,EAAErB,KAAKsB,MAAM,iBAAiBtB,KAAKuB,KAAK,wBAAwBvB,KAAKwB,SAAQ,CAAE,CAACC,IAAAA,CAAK3B,GAAG,OAAOE,KAAK0B,oBAAoB1B,KAAK2B,OAAOF,QAAQG,QAAQC,QAAQ7B,KAAK,CAAC,YAAI8B,GAAU,IAAAC,EAAAC,EAAC,OAAkE,QAAlED,EAA0B,QAA1BC,EAAOhC,KAAK2B,OAAOM,eAAO,IAAAD,OAAA,EAAnBA,EAAqBE,MAAMpC,IAAIA,EAAEqC,iBAAiBrC,EAAEsC,eAAO,IAAAL,EAAAA,EAAE,IAAIM,EAAAA,EAAE,CAACD,MAAMpC,KAAK2B,OAAOW,eAAe,CAAC,wBAAIC,GAAuB,MAAMzC,EAAEE,KAAK8B,SAAS/B,EAAEC,KAAK2B,OAAOa,YAAYC,IAAI3C,EAAEsC,OAAOM,GAAEC,EAAAA,EAAAA,IAAG,OAAD5C,QAAC,IAADA,OAAC,EAADA,EAAG6C,SAASrB,KAAK,eAAezB,EAAE+C,OAAO,MAAM,CAAC/C,EAAEC,IAAa2C,EAAE5C,EAAEO,UAAUN,EAAEM,YAAqBP,EAAEG,SAASH,EAAEG,QAAS,CAAC6C,YAAAA,CAAahD,GAAG,MAAMC,EAAED,EAAEiD,cAAcC,GAAEC,EAAAA,EAAAA,IAAEjD,KAAKe,gBAAgBhB,GAAG,IAAIC,KAAKkD,sBAAsBpD,KAAK,OAAOkD,EAAE7C,SAAQuC,EAAAA,EAAAA,KAAG,KAAKM,EAAE7C,QAAQ6C,EAAE7C,OAAOH,KAAKmD,uBAAuBH,EAAE,GAAG,CAACE,qBAAAA,CAAsBpD,GAAG,MAAMC,EAAED,EAAEiD,cAAcL,EAAE5C,EAAEsD,aAAapD,KAAK2B,OAAO0B,iBAAiB9C,EAAE,IAAIX,EAAEG,EAAE2C,GAAG,GAAGpC,EAAEmC,IAAIC,GAAG,OAAO1C,KAAKsD,UAAUhD,EAAEiD,IAAIb,GAAGnC,EAAET,GAAGS,EAAE,IAAI0C,EAAE,IAAIA,EAAEO,KAAKC,MAAMf,EAAE,CAAC,MAAM9B,GAAG,OAAOoC,EAAAA,EAAEU,UAAU1D,MAAM2D,MAAM/C,GAAGL,CAAC,CAAC,OAAOP,KAAK4D,aAAaX,GAAGY,MAAM9D,IAAIC,KAAK8D,WAAW,IAAIvD,EAAEJ,OAAOG,EAAEmC,IAAIC,IAAIpC,EAAEyD,IAAIxD,EAAEL,WAAWH,GAAGQ,EAAEH,MAAM,MAAMJ,KAAKsD,UAAUvD,EAAEQ,EAAET,EAAE,IAAIkE,OAAO,SAASzD,CAAC,CAAC+C,SAAAA,CAAUxD,EAAEC,EAAE2C,GAAG1C,KAAKiB,kBAAkBgD,IAAInE,EAAEC,GAAGA,EAAEM,UAAUqC,EAAEU,aAAapD,KAAK8B,SAASM,OAAOrC,EAAEK,MAAMN,EAAEA,EAAE6B,OAAO3B,KAAKA,KAAKmB,OAAO+C,IAAIpE,GAAGE,KAAKmB,OAAOgD,MAAM,CAACrE,EAAEC,IAAIC,KAAKuC,qBAAqBvC,KAAKiB,kBAAkBwB,IAAI3C,GAAGE,KAAKiB,kBAAkBwB,IAAI1C,KAAK,CAACoD,sBAAAA,CAAuBrD,GAAGA,EAAEM,QAAQJ,KAAKiB,kBAAkBmD,OAAOtE,EAAEM,OAAOJ,KAAKmB,OAAOkD,OAAOvE,EAAEM,OAAOE,EAAEyD,IAAIjE,EAAEI,WAAWJ,EAAEM,QAAQJ,KAAKe,gBAAgBqD,OAAOtE,EAAEG,SAAS,CAAC,kBAAM2D,CAAa9D,GAAG,IAA4qB,SAAWA,GAAG,MAAM,iBAAiBA,GAAG,MAAMA,GAAG,WAAWA,GAAG,cAAcA,CAAC,CAAtvBwE,CAAExE,GAAI,OAAO,UAAUyE,EAAAA,EAAEC,oBAAoB,MAAMC,OAAO1E,EAAE2E,UAAUhC,GAAG5C,EAAEkD,GAAEC,EAAAA,EAAAA,IAAEjD,KAAKkB,SAASwB,GAAG,IAAI,IAAIiC,EAAAA,EAAE,CAACC,IAAIlC,MAAM,OAAO7B,EAAAA,EAAEgE,eAAe,IAAIC,EAAAA,QAAE,CAACC,GAAGhF,EAAEiF,OAAOhC,IAAI,IAAGlD,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,OAAKxE,EAAEyE,UAAU,WAAW,OAAMpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,OAAKxE,EAAEyE,UAAU,uBAAuB,OAAMpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,IAAE,CAACE,UAAS,KAAM1E,EAAEyE,UAAU,cAAS,IAAQpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,OAAKxE,EAAEyE,UAAU,+BAA0B,IAAQpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,IAAEG,EAAAA,KAAI3E,EAAEyE,UAAU,eAAU,IAAQpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,IAAE,CAAC1D,KAAK8D,OAAOC,KAAK,CAACC,KAAK,QAAQC,OAAM,MAAO/E,EAAEyE,UAAU,aAAQ,IAAQpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,IAAE,CAACK,KAAK,CAACG,MAAK,MAAOhF,EAAEyE,UAAU,YAAO,IAAQpF,EAAAA,EAAAA,GAAE,EAACmF,EAAAA,EAAAA,IAAE,CAAC1D,KAAKmE,QAAQJ,KAAK,CAACC,KAAK,aAAaC,OAAM,MAAO/E,EAAEyE,UAAU,eAAU,GAAQzE,GAAEX,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,GAAE,iDAAiDlF,GAAG,MAAMmF,EAAEnF,E,wJCAnrE,IAAIkE,EAAE,eAAc9D,EAAAA,EAAAA,IAAED,EAAAA,EAAAA,IAAEqE,EAAAA,EAAAA,IAAEjC,EAAAA,EAAAA,GAAEC,EAAAA,OAAOpD,WAAAA,CAAYC,GAAGgB,MAAMhB,GAAGE,KAAK6F,aAAa,KAAK7F,KAAK8F,eAAc,EAAG9F,KAAK+F,eAAc,EAAG/F,KAAKqB,QAAQ,EAAErB,KAAKgG,cAAa,EAAGhG,KAAKiG,cAAc,KAAKjG,KAAKkG,SAAS,KAAKlG,KAAKuB,KAAK,oBAAoBvB,KAAKwB,SAAQ,CAAE,CAACC,IAAAA,CAAK3B,GAAG,OAAOE,KAAK0B,oBAAoB1B,KAAK2B,OAAOF,QAAQG,QAAQC,QAAQ7B,KAAK,CAAC,wBAAImG,GAAuB,OAAOnG,KAAKoG,qBAAqB,CAAC,UAAIC,GAAS,OAAOrG,KAAK2B,OAAO0E,MAAM,CAAC,eAAI7D,GAAc,OAAOxC,KAAK2B,OAAOa,WAAW,CAAC,gBAAI8D,GAAe,OAAOtG,KAAK2B,OAAO2E,YAAY,CAAC,iBAAIhE,GAAgB,OAAOtC,KAAK2B,OAAOW,aAAa,CAAC,WAAIL,GAAU,OAAOjC,KAAK2B,OAAOM,OAAO,CAACmE,mBAAAA,CAAoBtG,GAAG,MAAMC,EAAE,CAACsG,OAAOrG,KAAK2B,OAAO0E,OAAO/D,cAActC,KAAK2B,OAAOW,cAAchB,MAAMtB,KAAKsB,OAAO,OAAOwD,EAAAA,EAAAA,IAAE/E,EAAED,EAAE,CAACyG,WAAAA,GAAc,OAAOvG,KAAK2B,OAAO4E,aAAa,CAACC,aAAAA,CAAc1G,EAAEC,GAAG,OAAOC,KAAK2B,OAAO6E,cAAc1G,EAAEC,EAAE,IAAGD,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACR,UAAS,KAAMR,EAAEO,UAAU,uBAAuB,OAAMpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACpE,KAAK,CAACoB,EAAAA,GAAG2C,KAAK,CAACC,KAAK,2CAA2CE,KAAK9E,EAAAA,EAAE6E,OAAM,MAAOb,EAAEO,UAAU,oBAAe,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAEjF,EAAAA,KAAIiE,EAAEO,UAAU,qBAAgB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAEpB,EAAAA,KAAII,EAAEO,UAAU,qBAAgB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAEtD,EAAAA,KAAIsC,EAAEO,UAAU,eAAU,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAEP,EAAAA,KAAIT,EAAEO,UAAU,oBAAe,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACpE,KAAKxB,EAAAA,EAAEuF,KAAK,CAACC,KAAK,YAAYC,OAAM,MAAOb,EAAEO,UAAU,qBAAgB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACc,MAAM/D,EAAAA,EAAE4C,KAAK,CAACC,KAAK,2CAA2CZ,EAAEO,UAAU,gBAAW,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACL,KAAK,CAACG,MAAK,MAAOd,EAAEO,UAAU,YAAO,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACpE,KAAKmE,QAAQJ,KAAK,CAACC,KAAK,aAAaC,OAAM,MAAOb,EAAEO,UAAU,eAAU,GAAQP,GAAE7E,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,8CAA8CoE,GAAG,MAAMrE,EAAEqE,E,yKCAloC,MAAmC+B,GAAEC,EAAAA,EAAAA,KAAI,IAAIC,GAAE,eAAcC,EAAAA,EAAAA,IAAEvG,EAAAA,EAAAA,IAAEwG,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,IAAEtE,EAAAA,EAAAA,IAAEuE,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,IAAE5G,EAAAA,EAAAA,IAAEE,EAAAA,EAAAA,IAAEkE,EAAAA,EAAAA,IAAEjC,EAAAA,EAAAA,GAAEL,EAAAA,gBAAgBxC,WAAAA,CAAYC,GAAGgB,MAAMhB,GAAGE,KAAKoH,kBAAkB,IAAIhC,EAAE,CAACzD,OAAO3B,OAAOA,KAAKqG,OAAO,KAAKrG,KAAKwC,YAAY,KAAKxC,KAAKqH,eAAe,IAAI1G,EAAE,CAACgB,OAAO3B,OAAOA,KAAKqD,gBAAgB,gBAAgBrD,KAAKsH,cAAc,cAActH,KAAKmB,OAAO,IAAI6B,EAAAA,EAAE,CAAChD,KAAKoH,kBAAkBpH,KAAKqH,iBAAiBrH,KAAKuH,OAAO,IAAI7G,EAAAA,QAAE,CAACN,MAAMJ,OAAOA,KAAKuB,KAAK,SAAS,CAACE,IAAAA,CAAK3B,GAAG,MAAMC,EAAE,MAAMD,EAAEA,EAAE0H,OAAO,KAAK9E,EAAE1C,KAAKyH,eAAe,CAACC,eAAe,CAAC,oBAAoB5H,GAAGkE,MAAMpD,EAAAA,IAAGiD,MAAM8D,UAAS,IAAAC,EAAC,IAAI5H,KAAK4E,IAAI,MAAM,IAAI3B,EAAAA,EAAE,4BAA4B,4CAA4C,GAAGjD,KAAK4E,KAAK,MAAM5E,KAAK6H,QAAQ,CAAC,MAAM/H,QAAQE,KAAK8H,wBAAwB/H,GAAG,GAAG,MAAMD,EAAE,MAAM,IAAImD,EAAAA,EAAE,gCAAgC,2CAA2C,CAAC8E,QAAQ/H,KAAK4E,MAAM5E,KAAK6H,QAAQ/H,CAAC,OAAOE,KAAKuH,OAAO9F,OAAOzB,KAAKuH,OAAOS,aAAahI,KAAKgI,WAAWhI,KAAKuH,OAAOS,WAAWhI,KAAKyF,KAAKzF,KAAKuH,OAAOS,WAAW,CAACC,OAAO,UAAUC,WAAWlI,KAAKkI,WAAWlD,OAAsB,QAAhB4C,EAAC5H,KAAKkI,kBAAU,IAAAN,OAAA,EAAfA,EAAiB5C,OAAOJ,IAAI5E,KAAKmI,YAAY,IAAItE,MAAM,KAAIuE,EAAAA,EAAAA,IAAEpI,KAAK,OAAOF,KAAK,OAAOE,KAAK0B,oBAAoBgB,GAAGd,QAAQC,QAAQ7B,KAAK,CAAC,sBAAIqI,GAAoB,IAAAC,EAAC,OAAOtI,KAAKuI,eAAe,wBAAwBvI,KAAKuI,eAAe,cAAcvI,KAAKuI,eAAe,cAAcvI,KAAKuI,eAAe,gBAAgBvI,KAAKuI,eAAe,iBAAgD,QAAhCD,EAACtI,KAAKwI,KAAK,6BAAqB,IAAAF,EAAAA,EAAE,GAAG,CAAC,CAAC,aAAIH,GAAY,MAAMrI,GAAEe,EAAAA,EAAAA,IAAEb,KAAK4E,KAAK,OAAO,MAAM9E,GAAG,MAAME,KAAK6H,UAAU/H,EAAE2I,MAAKxD,EAAAA,EAAAA,IAAEnF,EAAE2I,KAAKzI,KAAK6H,QAAQa,aAAa5I,CAAC,CAACyG,WAAAA,GAAa,IAAAoC,EAAC,MAAM7I,EAAE,IAAI8I,EAAAA,EAAE7I,EAAmB,QAAlB4I,EAAC3I,KAAK6I,oBAAY,IAAAF,OAAA,EAAjBA,EAAmBG,MAAMhJ,EAAEiJ,gBAAe,EAAGhJ,IAAID,EAAEkJ,uBAAuBjJ,EAAEkJ,wBAAwBnJ,EAAEoJ,+BAA+BnJ,EAAEoJ,iCAAiCrJ,EAAEsJ,UAAU,CAAC,KAAK,MAAMC,WAAW3G,EAAE4G,WAAWtG,GAAGhD,KAAK,OAAOF,EAAEwJ,WAAW,MAAM5G,GAAG,MAAMM,EAAEA,EAAEuG,QAAQ7G,EAAE8G,MAAM9G,EAAE+G,MAAMzG,GAAG,KAAKlD,CAAC,CAAC4J,QAAAA,CAAS5J,GAAG,OAAOE,KAAKwC,YAAYC,IAAI3C,EAAE,CAAC6J,cAAAA,CAAe7J,EAAEC,GAAE,IAAA6J,EAAC,OAA8B,QAA9BA,EAAO5J,KAAKwC,YAAYC,IAAI3C,UAAE,IAAA8J,OAAA,EAAvBA,EAAyBC,MAAM,CAAC,mBAAMrD,CAAc1G,EAAEC,GAAE,IAAA+J,EAAC,MAAMpH,QAAQ1C,KAAKyB,OAAOuB,QAAQN,EAAE6E,OAAOf,cAAuB,QAAVsD,EAAClB,EAAAA,EAAEmB,KAAKjK,UAAE,IAAAgK,EAAAA,EAAEpH,EAAE6D,cAAcxG,GAAG,GAAI,OAADiD,QAAC,IAADA,GAAAA,EAAGgH,SAAS,IAAI,MAAM/G,KAAKD,EAAEgH,SAAS/G,EAAE7C,MAAM6C,EAAEgH,YAAYvH,EAAE2E,eAAe,OAAOrE,CAAC,CAAC,oBAAMkH,CAAepK,EAAEC,GAAE,IAAAoK,EAAC,aAAanK,KAAKyB,QAAQ8F,OAAO2C,eAAwB,QAAVC,EAACvB,EAAAA,EAAEmB,KAAKjK,UAAE,IAAAqK,EAAAA,EAAEnK,KAAKuG,cAAcxG,EAAE,CAAC,uBAAMqK,CAAkBtK,EAAEC,GAAE,IAAAsK,EAAC,aAAarK,KAAKyB,QAAQ8F,OAAO6C,kBAA2B,QAAVC,EAACzB,EAAAA,EAAEmB,KAAKjK,UAAE,IAAAuK,EAAAA,EAAErK,KAAKuG,cAAcxG,EAAE,CAAC,iBAAMuK,CAAYxK,EAAEC,GAAE,IAAAwK,EAAC,aAAavK,KAAKyB,QAAQ8F,OAAO+C,YAAqB,QAAVC,EAAC3B,EAAAA,EAAEmB,KAAKjK,UAAE,IAAAyK,EAAAA,EAAEvK,KAAKuG,cAAcxG,EAAE,CAACyK,+BAAAA,CAAgC1K,GAAG,OAAOE,KAAKyK,SAAQ7E,EAAAA,EAAAA,GAAE5F,KAAKF,EAAE,CAAC2F,IAAAA,CAAK3F,EAAEC,GAAGe,MAAM2E,KAAK3F,EAAEC,GAAG,IAAI2C,EAAE5C,EAAEuH,eAAe3E,GAAG,aAAa,OAAD3C,QAAC,IAADA,OAAC,EAADA,EAAGkI,UAASvF,EAAE,CAACgI,gBAAgB,CAACC,aAAY7F,EAAAA,EAAAA,IAAEhF,EAAEwG,iBAAiBtG,KAAKqH,eAAe5B,KAAK/C,EAAE3C,EAAE,CAAC+H,uBAAAA,CAAwBhI,GAAG,OAAOC,EAAAA,EAAAA,GAAEC,KAAK4E,IAAI,CAACkE,MAAM,CAAChE,EAAE,UAAU9E,KAAK4K,iBAAiBC,MAAM7K,KAAK8K,QAAQC,aAAa,OAAOvD,OAAO1H,IAAI+D,MAAM/D,IAAG,IAAAkL,EAAC,MAAMjL,EAAED,EAAEmL,KAAK,GAAGlL,EAAE,OAAOmL,MAAMC,QAAQpL,EAAEoB,QAAoD,QAA7C6J,EAACjL,EAAEoB,OAAOe,MAAMpC,GAAG,kBAAkBA,EAAEyB,cAAM,IAAAyJ,OAAA,EAA5CA,EAA8CjG,QAAG,CAAM,GAAG,IAAGjF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACR,UAAS,KAAMyB,GAAE1B,UAAU,qBAAqB,OAAMpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,IAAIe,EAAEL,OAAOf,KAAK,CAAC8F,QAAQ,CAACrD,QAAQ,CAACxC,KAAK,eAAeqB,GAAE1B,UAAU,cAAS,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAEe,EAAElE,cAAcoE,GAAE1B,UAAU,mBAAc,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACL,KAAK,CAACG,MAAK,EAAGD,OAAM,MAAOoB,GAAE1B,UAAU,sBAAiB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,OAAKiB,GAAE1B,UAAU,uBAAkB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,OAAKiB,GAAE1B,UAAU,qBAAgB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,OAAKiB,GAAE1B,UAAU,cAAS,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAAC6D,MAAM,eAAejI,KAAK,CAAC,mBAAmBqF,GAAE1B,UAAU,4BAAuB,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,OAAKiB,GAAE1B,UAAU,iBAAY,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACR,UAAS,KAAMyB,GAAE1B,UAAU,YAAY,OAAMpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,OAAKiB,GAAE1B,UAAU,cAAS,IAAQpF,EAAAA,EAAAA,GAAE,EAAC6F,EAAAA,EAAAA,IAAE,CAACL,KAAK,CAACG,MAAK,MAAOmB,GAAE1B,UAAU,YAAO,GAAQ0B,IAAE9G,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,GAA5kH,6BAAklHqC,IAAG,MAAMyE,GAAEzE,E","sources":["../node_modules/@arcgis/core/layers/catalog/CatalogDynamicGroupLayer.js","../node_modules/@arcgis/core/layers/catalog/CatalogFootprintLayer.js","../node_modules/@arcgis/core/layers/CatalogLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{makeHandle as t}from\"../../core/handleUtils.js\";import o from\"../../core/Logger.js\";import{LRUCache as s}from\"../../core/LRUCache.js\";import{getOrCreateMapValue as i}from\"../../core/MapUtils.js\";import{MultiOriginJSONMixin as a}from\"../../core/MultiOriginJSONSupport.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../Layer.js\";import{BlendLayer as c}from\"../mixins/BlendLayer.js\";import{ScaleRangeLayer as d}from\"../mixins/ScaleRangeLayer.js\";import{opacity as y}from\"../support/commonProperties.js\";import{layerLookupMap as m}from\"../support/lazyLayerLoader.js\";import u from\"../support/OrderByInfo.js\";import h from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{getAttributeComparator as j}from\"../../statistics/utils.js\";class _{constructor(e,r){this.objectId=e,this.itemSource=r,this.count=0,this.layer=null,this.sortValue=void 0}}const g=new s(20,(e=>e.destroy()));let L=class extends(d(c(a(l)))){constructor(e){super(e),this._oidToReference=new Map,this._layerToReference=new Map,this._portals=new Map,this.layers=new r,this.maximumVisibleSublayers=10,this.opacity=1,this.title=\"Layers In View\",this.type=\"catalog-dynamic-group\",this.visible=!0}load(e){return this.addResolvingPromise(this.parent.load()),Promise.resolve(this)}get _orderBy(){return this.parent.orderBy?.find((e=>!e.valueExpression&&e.field))??new u({field:this.parent.objectIdField})}get _referenceComparator(){const e=this._orderBy,r=this.parent.fieldsIndex.get(e.field),t=j(r?.toJSON().type,\"descending\"===e.order);return(e,r)=>{const o=t(e.sortValue,r.sortValue);return o||e.objectId-e.objectId}}acquireLayer(e){const r=e.getObjectId(),o=i(this._oidToReference,r,(()=>this._createLayerReference(e)));return o.count++,t((()=>{o.count--,o.count||this._disposeLayerReference(o)}))}_createLayerReference(e){const r=e.getObjectId(),t=e.getAttribute(this.parent.itemSourceField),s=new _(r,t);if(g.get(t))return this._addLayer(g.pop(t),s,e),s;let i;try{i=JSON.parse(t)}catch(a){return o.getLogger(this).error(a),s}return this._createLayer(i).then((r=>{this.destroyed||0===s.count?(g.get(t)||g.put(s.itemSource,r),s.layer=null):this._addLayer(r,s,e)})).catch((()=>{})),s}_addLayer(e,r,t){this._layerToReference.set(e,r),r.sortValue=t.getAttribute(this._orderBy.field),r.layer=e,e.parent=this,this.layers.add(e),this.layers.sort(((e,r)=>this._referenceComparator(this._layerToReference.get(e),this._layerToReference.get(r))))}_disposeLayerReference(e){e.layer&&(this._layerToReference.delete(e.layer),this.layers.remove(e.layer),g.put(e.itemSource,e.layer)),this._oidToReference.delete(e.objectId)}async _createLayer(e){if(!R(e)){return new(await m.UnsupportedLayer())}const{itemId:r,portalUrl:t}=e,o=i(this._portals,t,(()=>new h({url:t})));return l.fromPortalItem(new f({id:r,portal:o}))}};e([n()],L.prototype,\"_orderBy\",null),e([n()],L.prototype,\"_referenceComparator\",null),e([n({readOnly:!0})],L.prototype,\"layers\",void 0),e([n()],L.prototype,\"maximumVisibleSublayers\",void 0),e([n(y)],L.prototype,\"opacity\",void 0),e([n({type:String,json:{name:\"title\",write:!0}})],L.prototype,\"title\",void 0),e([n({json:{read:!1}})],L.prototype,\"type\",void 0),e([n({type:Boolean,json:{name:\"visibility\",write:!0}})],L.prototype,\"visible\",void 0),L=e([p(\"esri.layers.catalog.CatalogDynamicGroupLayer\")],L);const b=L;function R(e){return\"object\"==typeof e&&null!=e&&\"itemId\"in e&&\"portalUrl\"in e}export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{rendererTypes as t}from\"../../renderers/support/types.js\";import{MultiOriginJSONMixin as o}from\"../../core/MultiOriginJSONSupport.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../Layer.js\";import{BlendLayer as n}from\"../mixins/BlendLayer.js\";import{FeatureEffectLayer as a}from\"../mixins/FeatureEffectLayer.js\";import{ScaleRangeLayer as l}from\"../mixins/ScaleRangeLayer.js\";import{labelsVisible as d,legendEnabled as m,opacity as u,popupEnabled as y}from\"../support/commonProperties.js\";import j from\"../support/LabelClass.js\";import{reader as c}from\"../support/labelingInfo.js\";import{createPopupTemplate as f}from\"../../support/popupUtils.js\";let h=class extends(l(a(n(o(i))))){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.opacity=1,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.type=\"catalog-footprint\",this.visible=!0}load(e){return this.addResolvingPromise(this.parent.load()),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get fields(){return this.parent.fields}get fieldsIndex(){return this.parent.fieldsIndex}get geometryType(){return this.parent.geometryType}get objectIdField(){return this.parent.objectIdField}get orderBy(){return this.parent.orderBy}createPopupTemplate(e){const r={fields:this.parent.fields,objectIdField:this.parent.objectIdField,title:this.title};return f(r,e)}createQuery(){return this.parent.createQuery()}queryFeatures(e,r){return this.parent.queryFeatures(e,r)}};e([p({readOnly:!0})],h.prototype,\"defaultPopupTemplate\",null),e([p({type:[j],json:{name:\"layerDefinition.drawingInfo.labelingInfo\",read:c,write:!0}})],h.prototype,\"labelingInfo\",void 0),e([p(d)],h.prototype,\"labelsVisible\",void 0),e([p(m)],h.prototype,\"legendEnabled\",void 0),e([p(u)],h.prototype,\"opacity\",void 0),e([p(y)],h.prototype,\"popupEnabled\",void 0),e([p({type:r,json:{name:\"popupInfo\",write:!0}})],h.prototype,\"popupTemplate\",void 0),e([p({types:t,json:{name:\"layerDefinition.drawingInfo.renderer\"}})],h.prototype,\"renderer\",void 0),e([p({json:{read:!1}})],h.prototype,\"type\",void 0),e([p({type:Boolean,json:{name:\"visibility\",write:!0}})],h.prototype,\"visible\",void 0),h=e([s(\"esri.layers.catalog.CatalogFootprintLayer\")],h);const g=h;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import{ClonableMixin as t}from\"../core/Clonable.js\";import o from\"../core/Collection.js\";import i from\"../core/Error.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as a}from\"../core/promiseUtils.js\";import{urlToObject as l,join as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"./Layer.js\";import y from\"./catalog/CatalogDynamicGroupLayer.js\";import c from\"./catalog/CatalogFootprintLayer.js\";import d from\"./graphics/sources/FeatureLayerSource.js\";import{createDrawingInfo as f}from\"./graphics/sources/support/clientSideDefaults.js\";import{APIKeyMixin as h}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as j}from\"./mixins/ArcGISService.js\";import{BlendLayer as g}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as L}from\"./mixins/CustomParametersMixin.js\";import{FeatureLayerBase as x}from\"./mixins/FeatureLayerBase.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as S}from\"./mixins/OrderedLayer.js\";import{PortalLayer as I}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as F}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as C}from\"./mixins/TemporalLayer.js\";import{ensureLayerCredential as O}from\"./support/featureLayerUtils.js\";import{defineFieldProperties as P}from\"./support/fieldProperties.js\";import{serviceSupportsSpatialReference as b}from\"./support/versionUtils.js\";import q from\"../rest/support/Query.js\";const E=\"esri.layers.CatalogLayer\",Q=P();let T=class extends(x(g(S(C(F(w(j(v(I(s(L(h(t(u)))))))))))))){constructor(e){super(e),this.dynamicGroupLayer=new y({parent:this}),this.fields=null,this.fieldsIndex=null,this.footprintLayer=new c({parent:this}),this.itemSourceField=\"cd_itemsource\",this.itemTypeField=\"cd_itemtype\",this.layers=new o([this.dynamicGroupLayer,this.footprintLayer]),this.source=new d({layer:this}),this.type=\"catalog\"}load(e){const r=null!=e?e.signal:null,t=this.loadFromPortal({supportedTypes:[\"Feature Service\"]},e).catch(a).then((async()=>{if(!this.url)throw new i(\"catalog-layer:missing-url\",\"Catalog layer must be created with a url\");if(this.url&&null==this.layerId){const e=await this._fetchFirstValidLayerId(r);if(null==e)throw new i(\"catalog-layer:missing-layerId\",\"There is no Catalog Layer in the service\",{service:this.url});this.layerId=e}await this.source.load(),this.source.sourceJSON&&(this.sourceJSON=this.source.sourceJSON,this.read(this.source.sourceJSON,{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}))})).then((()=>O(this,\"load\",e)));return this.addResolvingPromise(t),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"capabilities\"),(this._get(\"createQueryVersion\")??0)+1}get parsedUrl(){const e=l(this.url);return null!=e&&null!=this.layerId&&(e.path=n(e.path,this.layerId.toString())),e}createQuery(){const e=new q,r=this.capabilities?.query;e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),e.outFields=[\"*\"];const{timeOffset:t,timeExtent:o}=this;return e.timeExtent=null!=t&&null!=o?o.offset(-t.value,t.unit):o||null,e}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){return this.fieldsIndex.get(e)?.domain}async queryFeatures(e,r){const t=await this.load(),o=await t.source.queryFeatures(q.from(e)??t.createQuery(),r);if(o?.features)for(const i of o.features)i.layer=i.sourceLayer=t.footprintLayer;return o}async queryObjectIds(e,r){return(await this.load()).source.queryObjectIds(q.from(e)??this.createQuery(),r)}async queryFeatureCount(e,r){return(await this.load()).source.queryFeatureCount(q.from(e)??this.createQuery(),r)}async queryExtent(e,r){return(await this.load()).source.queryExtent(q.from(e)??this.createQuery(),r)}serviceSupportsSpatialReference(e){return this.loaded&&b(this,e)}read(e,r){super.read(e,r);let t=e.footprintLayer;t||\"service\"!==r?.origin||(t={layerDefinition:{drawingInfo:f(e.geometryType)}}),this.footprintLayer.read(t,r)}_fetchFirstValidLayerId(e){return r(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then((e=>{const r=e.data;if(r)return Array.isArray(r.layers)?r.layers.find((e=>\"Catalog Layer\"===e.type))?.id:void 0}))}};e([p({readOnly:!0})],T.prototype,\"createQueryVersion\",null),e([p({...Q.fields,json:{origins:{service:{name:\"fields\"}}}})],T.prototype,\"fields\",void 0),e([p(Q.fieldsIndex)],T.prototype,\"fieldsIndex\",void 0),e([p({json:{read:!1,write:!1}})],T.prototype,\"footprintLayer\",void 0),e([p()],T.prototype,\"itemSourceField\",void 0),e([p()],T.prototype,\"itemTypeField\",void 0),e([p()],T.prototype,\"layers\",void 0),e([p({value:\"CatalogLayer\",type:[\"CatalogLayer\"]})],T.prototype,\"operationalLayerType\",void 0),e([p()],T.prototype,\"outFields\",void 0),e([p({readOnly:!0})],T.prototype,\"parsedUrl\",null),e([p()],T.prototype,\"source\",void 0),e([p({json:{read:!1}})],T.prototype,\"type\",void 0),T=e([m(E)],T);const G=T;export{G as default};\n"],"names":["_","constructor","e","r","this","objectId","itemSource","count","layer","sortValue","g","s","destroy","L","d","c","a","l","super","_oidToReference","Map","_layerToReference","_portals","layers","maximumVisibleSublayers","opacity","title","type","visible","load","addResolvingPromise","parent","Promise","resolve","_orderBy","_this$parent$orderBy$","_this$parent$orderBy","orderBy","find","valueExpression","field","u","objectIdField","_referenceComparator","fieldsIndex","get","t","j","toJSON","order","acquireLayer","getObjectId","o","i","_createLayerReference","_disposeLayerReference","getAttribute","itemSourceField","_addLayer","pop","JSON","parse","getLogger","error","_createLayer","then","destroyed","put","catch","set","add","sort","delete","remove","R","m","UnsupportedLayer","itemId","portalUrl","h","url","fromPortalItem","f","id","portal","n","prototype","readOnly","y","String","json","name","write","read","Boolean","p","b","labelingInfo","labelsVisible","legendEnabled","popupEnabled","popupTemplate","renderer","defaultPopupTemplate","createPopupTemplate","fields","geometryType","createQuery","queryFeatures","types","Q","P","T","x","S","C","F","w","v","I","dynamicGroupLayer","footprintLayer","itemTypeField","source","signal","loadFromPortal","supportedTypes","async","_this$portalItem","layerId","_fetchFirstValidLayerId","service","sourceJSON","origin","portalItem","parsedUrl","O","createQueryVersion","_this$_get","commitProperty","_get","path","toString","_this$capabilities","q","capabilities","query","returnGeometry","compactGeometryEnabled","supportsCompactGeometry","defaultSpatialReferenceEnabled","supportsDefaultSpatialReference","outFields","timeOffset","timeExtent","offset","value","unit","getField","getFieldDomain","_this$fieldsIndex$get","domain","_q$from","from","features","sourceLayer","queryObjectIds","_q$from2","queryFeatureCount","_q$from3","queryExtent","_q$from4","serviceSupportsSpatialReference","loaded","layerDefinition","drawingInfo","customParameters","token","apiKey","responseType","_r$layers$find","data","Array","isArray","origins","G"],"sourceRoot":""}